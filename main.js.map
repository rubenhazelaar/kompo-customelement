{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0eadedd39daf50f589ed","webpack:///./~/webcomponents.js/src/CustomElements/v1/CustomElements.js","webpack:///./~/webcomponents.js/src/CustomElements/v1/native-shim.js"],"names":["CustomElementDefinition","Deferred","doc","document","win","window","_observerProp","_attachedProp","_upgradedProp","enableFlush","flush","console","log","reservedTagList","customNameValidation","isValidCustomElementName","name","test","indexOf","createTreeWalker","root","NodeFilter","SHOW_ELEMENT","isElement","node","nodeType","Node","ELEMENT_NODE","isHtmlImport","element","tagName","rel","toLowerCase","split","isConnected","n","parentNode","DOCUMENT_FRAGMENT_NODE","host","CustomElementsRegistry","_definitions","Map","_constructors","_whenDefinedMap","_observers","Set","_attributeObserver","MutationObserver","_handleAttributeChange","bind","_newInstance","_pendingHtmlImportUrls","_ready","_mainDocumentObserver","_observeRoot","onReady","_addNodes","childNodes","dispatchEvent","CustomEvent","define","constructor","options","toString","TypeError","SyntaxError","has","Error","localName","prototype","getCallback","callbackName","callback","undefined","connectedCallback","disconnectedCallback","attributeChangedCallback","observedAttributes","definition","set","deferred","get","resolve","delete","def","whenDefined","Promise","reject","promise","_resolve","_","_handleMutations","takeRecords","forEach","observer","_setNewInstance","instance","baseURI","warn","observe","childList","subtree","add","_unobserveRoot","disconnect","mutations","i","length","mutation","type","addedNodes","removedNodes","_removeNodes","nodeList","visitedNodes","walker","currentNode","_addElement","nextNode","_upgradeElement","call","shadowRoot","_addImport","link","_import","import","importUrl","href","_this","onLoad","removeEventListener","addEventListener","callConstructor","__proto__","assert","attributes","attributeOldValue","attributeFilter","hasAttribute","value","getAttribute","target","attributeName","oldValue","newValue","namespace","attributeNamespace","origHTMLElement","HTMLElement","newHTMLElement","customElements","_createElement","Object","create","configurable","writable","htmlElementSubclasses","ctor","rawCreateElement","createElement","HTMLNS","_origCreateElementNS","createElementNS","namespaceURI","qualifiedName","_origAttachShadow","Element","defineProperty","rawImportNode","importNode","deep","clone","nodes","_origSetAttribute","setAttribute","changeAttribute","_origRemoveAttribute","removeAttribute","operation","newTarget","new","Reflect","construct"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kompo-customelement\"] = factory();\n\telse\n\t\troot[\"kompo-customelement\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0eadedd39daf50f589ed\n **/","/**\r\n * @license\r\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\r\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\n * Code distributed by Google as part of the polymer project is also\r\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n */\r\n\r\n/**\r\n * 2.3\r\n * http://w3c.github.io/webcomponents/spec/custom/#dfn-element-definition\r\n * @typedef {{\r\n *  name: string,\r\n *  localName: string,\r\n *  constructor: function(new:HTMLElement),\r\n *  connectedCallback: (Function|undefined),\r\n *  disconnectedCallback: (Function|undefined),\r\n *  attributeChangedCallback: (Function|undefined),\r\n *  observedAttributes: Array<string>,\r\n * }}\r\n */\r\nlet CustomElementDefinition;\r\n\r\n/**\r\n * @typedef {{\r\n *  resolve: !function(undefined),\r\n *  promise: !Promise<undefined>,\r\n * }}\r\n */\r\nlet Deferred;\r\n\r\n(function() {\r\n  'use strict';\r\n\r\n  const doc = document;\r\n  const win = window;\r\n\r\n  const _observerProp = '__CustomElements_observer__';\r\n  const _attachedProp = '__CustomElements_attached__';\r\n  const _upgradedProp = '__CustomElements_upgraded__';\r\n\r\n  if (win['customElements']) {\r\n    if (win['customElements'].enableFlush) {\r\n      win['customElements'].flush = function() {\r\n        console.log('CustomElements#flush()');\r\n      };\r\n    }\r\n    if (!win['customElements']['forcePolyfill']) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // name validation\r\n  // https://html.spec.whatwg.org/multipage/scripting.html#valid-custom-element-name\r\n\r\n  /**\r\n   * @const\r\n   * @type {Array<string>}\r\n   */\r\n  const reservedTagList = [\r\n    'annotation-xml',\r\n    'color-profile',\r\n    'font-face',\r\n    'font-face-src',\r\n    'font-face-uri',\r\n    'font-face-format',\r\n    'font-face-name',\r\n    'missing-glyph',\r\n  ];\r\n\r\n  /** @const */\r\n  const customNameValidation = /^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/;\r\n\r\n  /**\r\n   * @param {!string} name\r\n   * @return {boolean}\r\n   */\r\n  function isValidCustomElementName(name) {\r\n    return customNameValidation.test(name) && reservedTagList.indexOf(name) === -1;\r\n  }\r\n\r\n  /**\r\n   * @param {!Node} root\r\n   * @return {TreeWalker}\r\n   */\r\n  function createTreeWalker(root) {\r\n    // IE 11 requires the third and fourth arguments be present. If the third\r\n    // arg is null, it applies the default behaviour. However IE also requires\r\n    // the fourth argument be present even though the other browsers ignore it.\r\n    return doc.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, null, false);\r\n  }\r\n\r\n  /**\r\n   * @param {!Node} node\r\n   * @return {boolean}\r\n   */\r\n  function isElement(node) {\r\n    return node.nodeType === Node.ELEMENT_NODE;\r\n  }\r\n\r\n  /**\r\n   * @param {!Element} element\r\n   * @return {boolean}\r\n   */\r\n  function isHtmlImport(element) {\r\n    return element.tagName === 'LINK' &&\r\n        element.rel &&\r\n        element.rel.toLowerCase().split(' ').indexOf('import') !== -1;\r\n  }\r\n\r\n  /**\r\n   * @param {!Element} element\r\n   * @return {boolean}\r\n   */\r\n  function isConnected(element) {\r\n    let n = element;\r\n    do {\r\n      if (n['_attachedProp'] || n === document) return true;\r\n      n = n.parentNode || n.nodeType === Node.DOCUMENT_FRAGMENT_NODE && n.host;\r\n    } while(n);\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * A registry of custom element definitions.\r\n   *\r\n   * See https://html.spec.whatwg.org/multipage/scripting.html#customelementsregistry\r\n   *\r\n   * @property {boolean} enableFlush Set to true to enable the flush() method\r\n   *   to work. This should only be done for tests, as it causes a memory leak.\r\n   */\r\n  class CustomElementsRegistry {\r\n\r\n    constructor() {\r\n      /** @private {!Map<string, !CustomElementDefinition>} **/\r\n      this._definitions = new Map();\r\n\r\n      /** @private {!Map<Function, string>} **/\r\n      this._constructors = new Map();\r\n\r\n      /** @private {!Map<string, !Deferred>} **/\r\n      this._whenDefinedMap = new Map();\r\n\r\n      /** @private {!Set<!MutationObserver>} **/\r\n      this._observers = new Set();\r\n\r\n      /** @private {!MutationObserver} **/\r\n      this._attributeObserver =\r\n          new MutationObserver(/** @type {function(Array<MutationRecord>, MutationObserver)} */(this._handleAttributeChange.bind(this)));\r\n\r\n      /** @private {?HTMLElement} **/\r\n      this._newInstance = null;\r\n\r\n      /** @private {!Set<string>} **/\r\n      this._pendingHtmlImportUrls = new Set();\r\n\r\n      /** @type {boolean} **/\r\n      this.enableFlush = true;\r\n\r\n      /** @private {boolean} **/\r\n      this._ready = false;\r\n\r\n      /** @type {MutationObserver} **/\r\n      this._mainDocumentObserver = this._observeRoot(document);\r\n\r\n      // TODO(justinfagnani): Possibly remove WebComponentsReady event\r\n      const onReady = () => {\r\n        this._ready = true;\r\n        this._addNodes(doc.childNodes);\r\n        window.dispatchEvent(new CustomEvent('WebComponentsReady'));\r\n      };\r\n      if (window['HTMLImports']) {\r\n        window['HTMLImports']['whenReady'](onReady);\r\n      } else {\r\n        onReady();\r\n      }\r\n    }\r\n\r\n    // HTML spec part 4.13.4\r\n    // https://html.spec.whatwg.org/multipage/scripting.html#dom-customelementsregistry-define\r\n    /**\r\n     * @param {string} name\r\n     * @param {function(new:HTMLElement)} constructor\r\n     * @param {{extends: string}} options\r\n     * @return {undefined}\r\n     */\r\n    define(name, constructor, options) {\r\n      name = name.toString().toLowerCase();\r\n\r\n      // 1:\r\n      if (typeof constructor !== 'function') {\r\n        throw new TypeError('constructor must be a Constructor');\r\n      }\r\n\r\n      // 2. If constructor is an interface object whose corresponding interface\r\n      //    either is HTMLElement or has HTMLElement in its set of inherited\r\n      //    interfaces, throw a TypeError and abort these steps.\r\n      //\r\n      // It doesn't appear possible to check this condition from script\r\n\r\n      // 3:\r\n      if (!isValidCustomElementName(name)) {\r\n        throw new SyntaxError(`The element name '${name}' is not valid.`);\r\n      }\r\n\r\n      // 4, 5:\r\n      // Note: we don't track being-defined names and constructors because\r\n      // define() isn't normally reentrant. The only time user code can run\r\n      // during define() is when getting callbacks off the prototype, which\r\n      // would be highly-unusual. We can make define() reentrant-safe if needed.\r\n      if (this._definitions.has(name)) {\r\n        throw new Error(`An element with name '${name}' is already defined`);\r\n      }\r\n\r\n      // 6, 7:\r\n      if (this._constructors.has(constructor)) {\r\n        throw new Error(`Definition failed for '${name}': ` +\r\n            `The constructor is already used.`);\r\n      }\r\n\r\n      // 8:\r\n      /** @type {string} */\r\n      const localName = name;\r\n\r\n      // 9, 10: We do not support extends currently.\r\n\r\n      // 11, 12, 13: Our define() isn't rentrant-safe\r\n\r\n      // 14.1:\r\n      /** @type {Object} */\r\n      const prototype = constructor.prototype;\r\n\r\n      // 14.2:\r\n      if (typeof prototype !== 'object') {\r\n        throw new TypeError(`Definition failed for '${name}': ` +\r\n            `constructor.prototype must be an object`);\r\n      }\r\n\r\n      /**\r\n       * @param {string} callbackName\r\n       * @return {Function|undefined}\r\n       */\r\n      function getCallback(callbackName) {\r\n        const callback = prototype[callbackName];\r\n        if (callback !== undefined && typeof callback !== 'function') {\r\n          throw new Error(`${localName} '${callbackName}' is not a Function`);\r\n        }\r\n        return callback;\r\n      }\r\n\r\n      // 3, 4:\r\n      const connectedCallback = getCallback('connectedCallback');\r\n\r\n      // 5, 6:\r\n      const disconnectedCallback = getCallback('disconnectedCallback');\r\n\r\n      // Divergence from spec: we always throw if attributeChangedCallback is\r\n      // not a function.\r\n\r\n      // 7, 9.1:\r\n      const attributeChangedCallback = getCallback('attributeChangedCallback');\r\n\r\n      // 8, 9.2, 9.3:\r\n      const observedAttributes =\r\n          (attributeChangedCallback && constructor['observedAttributes']) || [];\r\n\r\n      // 15:\r\n      /** @type {CustomElementDefinition} */\r\n      const definition = {\r\n        name: name,\r\n        localName: localName,\r\n        constructor: constructor,\r\n        connectedCallback: connectedCallback,\r\n        disconnectedCallback: disconnectedCallback,\r\n        attributeChangedCallback: attributeChangedCallback,\r\n        observedAttributes: observedAttributes,\r\n      };\r\n\r\n      // 16:\r\n      this._definitions.set(localName, definition);\r\n      this._constructors.set(constructor, localName);\r\n\r\n      // 17, 18, 19:\r\n      if (this._ready) this._addNodes(doc.childNodes);\r\n\r\n      // 20:\r\n      /** @type {Deferred} **/\r\n      const deferred = this._whenDefinedMap.get(localName);\r\n      if (deferred) {\r\n        deferred.resolve(undefined);\r\n        this._whenDefinedMap.delete(localName);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Returns the constructor defined for `name`, or `null`.\r\n     *\r\n     * @param {string} name\r\n     * @return {Function|undefined}\r\n     */\r\n    get(name) {\r\n      // https://html.spec.whatwg.org/multipage/scripting.html#custom-elements-api\r\n      const def = this._definitions.get(name);\r\n      return def ? def.constructor : undefined;\r\n    }\r\n\r\n    /**\r\n     * Returns a `Promise` that resolves when a custom element for `name` has\r\n     * been defined.\r\n     *\r\n     * @param {string} name\r\n     * @return {!Promise}\r\n     */\r\n    whenDefined(name) {\r\n      // https://html.spec.whatwg.org/multipage/scripting.html#dom-customelementsregistry-whendefined\r\n      if (!customNameValidation.test(name)) {\r\n        return Promise.reject(\r\n          new SyntaxError(`The element name '${name}' is not valid.`));\r\n      }\r\n      if (this._definitions.has(name)) {\r\n        return Promise.resolve();\r\n      }\r\n      let resolve;\r\n      const promise = new Promise(function(_resolve, _) {\r\n       resolve = _resolve;\r\n      });\r\n      /** @type {Deferred} **/\r\n      const deferred = {promise, resolve};\r\n      this._whenDefinedMap.set(name, deferred);\r\n      return promise;\r\n    }\r\n\r\n    /**\r\n     * Causes all pending mutation records to be processed, and thus all\r\n     * customization, upgrades and custom element reactions to be called.\r\n     * `enableFlush` must be true for this to work. Only use during tests!\r\n     */\r\n    flush() {\r\n      if (this.enableFlush) {\r\n        // console.warn(\"flush!!!\");\r\n        this._handleMutations(this._mainDocumentObserver.takeRecords());\r\n        this._observers.forEach(\r\n          /**\r\n           * @param {!MutationObserver} observer\r\n           * @this {CustomElementsRegistry}\r\n           */\r\n          function(observer) {\r\n            this._handleMutations(observer.takeRecords());\r\n          }, this);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {?HTMLElement} instance\r\n     * @private\r\n     */\r\n    _setNewInstance(instance) {\r\n      this._newInstance = instance;\r\n    }\r\n\r\n    /**\r\n     * Observes a DOM root for mutations that trigger upgrades and reactions.\r\n     * @param {Node} root\r\n     * @private\r\n     */\r\n    _observeRoot(root) {\r\n      console.log('_observeRoot', root, root.baseURI);\r\n      // console.assert(!root['_observerProp']);\r\n      if (root['_observerProp'] != null) {\r\n        console.warn(`Root ${root} is already observed`);\r\n        return root['_observerProp'];\r\n      }\r\n      root['_observerProp'] = new MutationObserver(/** @type {function(Array<MutationRecord>, MutationObserver)} */(this._handleMutations.bind(this)));\r\n      root['_observerProp'].observe(root, {childList: true, subtree: true});\r\n      if (this.enableFlush) {\r\n        // this is memory leak, only use in tests\r\n        this._observers.add(root['_observerProp']);\r\n      }\r\n      return root['_observerProp'];\r\n    }\r\n\r\n    /**\r\n     * @param {Node} root\r\n     * @private\r\n     */\r\n    _unobserveRoot(root) {\r\n      if (root['_observerProp'] != null) {\r\n        root['_observerProp'].disconnect();\r\n        if (this.enableFlush) {\r\n          this._observers.delete(root['_observerProp']);\r\n        }\r\n        root['_observerProp'] = null;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {!Array<!MutationRecord>} mutations\r\n     * @private\r\n     */\r\n    _handleMutations(mutations) {\r\n      for (let i = 0; i < mutations.length; i++) {\r\n        /** @type {!MutationRecord} */\r\n        const mutation = mutations[i];\r\n        if (mutation.type === 'childList') {\r\n          // Note: we can't get an ordering between additions and removals, and\r\n          // so might diverge from spec reaction ordering\r\n          const addedNodes = /** @type {!NodeList<!Node>} */(mutation.addedNodes);\r\n          const removedNodes = /** @type {!NodeList<!Node>} */(mutation.removedNodes);\r\n          this._addNodes(addedNodes);\r\n          this._removeNodes(removedNodes);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {!(NodeList<!Node>|Array<!Node>)} nodeList\r\n     * @param {?Set<Node>=} visitedNodes\r\n     * @private\r\n     */\r\n    _addNodes(nodeList, visitedNodes) {\r\n      visitedNodes = visitedNodes || new Set();\r\n\r\n      for (let i = 0; i < nodeList.length; i++) {\r\n        const root = nodeList[i];\r\n\r\n        if (!isElement(root)) {\r\n          continue;\r\n        }\r\n\r\n        // Since we're adding this node to an observed tree, we can unobserve\r\n        this._unobserveRoot(root);\r\n\r\n        const walker = createTreeWalker(root);\r\n        do {\r\n          const node = /** @type {!HTMLElement} */ (walker.currentNode);\r\n          this._addElement(node, visitedNodes);\r\n        } while (walker.nextNode())\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {!HTMLElement} element\r\n     * @param {!Set<Node>=} visitedNodes\r\n     */\r\n    _addElement(element, visitedNodes) {\r\n      if (visitedNodes.has(element)) return;\r\n      visitedNodes.add(element);\r\n\r\n      /** @type {?CustomElementDefinition} */\r\n      const definition = this._definitions.get(element.localName);\r\n      if (definition) {\r\n        if (!element['_upgradedProp']) {\r\n          this._upgradeElement(element, definition, true);\r\n        }\r\n        // TODO(justinfagnani): check that the element is in the document\r\n        if (element['_upgradedProp'] && !element['_attachedProp'] && isConnected(element)) {\r\n          element['_attachedProp'] = true;\r\n          if (definition.connectedCallback) {\r\n            definition.connectedCallback.call(element);\r\n          }\r\n        }\r\n      }\r\n      if (element.shadowRoot) {\r\n        // TODO(justinfagnani): do we need to check that the shadowRoot\r\n        // is observed?\r\n        this._addNodes(element.shadowRoot.childNodes, visitedNodes);\r\n      }\r\n      if (isHtmlImport(element)) {\r\n        this._addImport(/** @type {!HTMLLinkElement} */(element), visitedNodes);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {!HTMLLinkElement} link\r\n     * @param {!Set<Node>=} visitedNodes\r\n     */\r\n    _addImport(link, visitedNodes) {\r\n      // During a tree walk to add or upgrade nodes, we may encounter multiple\r\n      // HTML imports that reference the same document, and may encounter\r\n      // imports in various states of loading.\r\n\r\n      // First, we only want to process the first import for a document in a\r\n      // walk, so we check visitedNodes for the document, not the link.\r\n      //\r\n      // Second, for documents that haven't loaded yet, we only want to add one\r\n      // listener, regardless of the number of links or walks, so we track\r\n      // pending loads in _pendingHtmlImportUrls.\r\n\r\n      // Check to see if the import is loaded\r\n      /** @type {?Document} */\r\n      const _import = link.import;\r\n      if (_import) {\r\n        // The import is loaded, but only process the first link element\r\n        if (visitedNodes.has(_import)) return;\r\n        visitedNodes.add(_import);\r\n\r\n        // The import is loaded observe it\r\n        if (!_import['_observerProp']) this._observeRoot(_import);\r\n\r\n        // walk the document\r\n        this._addNodes(_import.childNodes, visitedNodes);\r\n      } else {\r\n        // The import is not loaded, so wait for it\r\n        /** @type {string} */\r\n        const importUrl = link.href;\r\n        if (this._pendingHtmlImportUrls.has(importUrl)) return;\r\n        this._pendingHtmlImportUrls.add(importUrl);\r\n\r\n        /**\r\n         * @const\r\n         * @type {CustomElementsRegistry}\r\n         */\r\n        const _this = this;\r\n        const onLoad = function() {\r\n          link.removeEventListener('load', /** @type {function(Event)} */(onLoad));\r\n          if (!link.import['_observerProp']) _this._observeRoot(link.import);\r\n          // We don't pass visitedNodes because this is async and not part of\r\n          // the current tree walk.\r\n          _this._addNodes(link.import.childNodes);\r\n        };\r\n        link.addEventListener('load', onLoad);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {NodeList} nodeList\r\n     * @private\r\n     */\r\n    _removeNodes(nodeList) {\r\n      for (let i = 0; i < nodeList.length; i++) {\r\n        const root = nodeList[i];\r\n\r\n        if (!isElement(root)) {\r\n          continue;\r\n        }\r\n\r\n        // Since we're detatching this element from an observed root, we need to\r\n        // reobserve it.\r\n        // TODO(justinfagnani): can we do this in a microtask so we don't thrash\r\n        // on creating and destroying MutationObservers on batch DOM mutations?\r\n        this._observeRoot(root);\r\n\r\n        const walker = createTreeWalker(root);\r\n        do {\r\n          const node = walker.currentNode;\r\n          if (node['_upgradedProp'] && node['_attachedProp']) {\r\n            node['_attachedProp'] = false;\r\n            const definition = this._definitions.get(node.localName);\r\n            if (definition && definition.disconnectedCallback) {\r\n              definition.disconnectedCallback.call(node);\r\n            }\r\n          }\r\n        } while (walker.nextNode())\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Upgrades or customizes a custom element.\r\n     *\r\n     * @param {HTMLElement} element\r\n     * @param {CustomElementDefinition} definition\r\n     * @param {boolean} callConstructor\r\n     * @private\r\n     */\r\n    _upgradeElement(element, definition, callConstructor) {\r\n      const prototype = definition.constructor.prototype;\r\n      element.__proto__ = prototype;\r\n      if (callConstructor) {\r\n        this._setNewInstance(element);\r\n        new (definition.constructor)();\r\n        element['_upgradedProp'] = true;\r\n        console.assert(this._newInstance == null);\r\n      }\r\n\r\n      const observedAttributes = definition.observedAttributes;\r\n      const attributeChangedCallback = definition.attributeChangedCallback;\r\n      if (attributeChangedCallback && observedAttributes.length > 0) {\r\n        this._attributeObserver.observe(element, {\r\n          attributes: true,\r\n          attributeOldValue: true,\r\n          attributeFilter: observedAttributes,\r\n        });\r\n\r\n        // Trigger attributeChangedCallback for existing attributes.\r\n        // https://html.spec.whatwg.org/multipage/scripting.html#upgrades\r\n        for (let i = 0; i < observedAttributes.length; i++) {\r\n          const name = observedAttributes[i];\r\n          if (element.hasAttribute(name)) {\r\n            const value = element.getAttribute(name);\r\n            attributeChangedCallback.call(element, name, null, value);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {!Array<!MutationRecord>} mutations\r\n     * @private\r\n     */\r\n    _handleAttributeChange(mutations) {\r\n      for (let i = 0; i < mutations.length; i++) {\r\n        const mutation = mutations[i];\r\n        if (mutation.type === 'attributes') {\r\n          const target = /** @type {HTMLElement} */(mutation.target);\r\n          // We should be gaurenteed to have a definition because this mutation\r\n          // observer is only observing custom elements observedAttributes\r\n          const definition = this._definitions.get(target.localName);\r\n          const name = /** @type {!string} */(mutation.attributeName);\r\n          const oldValue = mutation.oldValue;\r\n          const newValue = target.getAttribute(name);\r\n          // Skip changes that were handled synchronously by setAttribute\r\n          if (newValue !== oldValue) {\r\n            const namespace = mutation.attributeNamespace;\r\n            definition.attributeChangedCallback.call(target, name, oldValue, newValue, namespace);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Closure Compiler Exports\r\n  window['CustomElementsRegistry'] = CustomElementsRegistry;\r\n  CustomElementsRegistry.prototype['define'] = CustomElementsRegistry.prototype.define;\r\n  CustomElementsRegistry.prototype['get'] = CustomElementsRegistry.prototype.get;\r\n  CustomElementsRegistry.prototype['whenDefined'] = CustomElementsRegistry.prototype.whenDefined;\r\n  CustomElementsRegistry.prototype['flush'] = CustomElementsRegistry.prototype.flush;\r\n  CustomElementsRegistry.prototype['polyfilled'] = true;\r\n  // TODO(justinfagnani): remove these in production code\r\n  CustomElementsRegistry.prototype['_observeRoot'] = CustomElementsRegistry.prototype._observeRoot;\r\n  CustomElementsRegistry.prototype['_addImport'] = CustomElementsRegistry.prototype._addImport;\r\n\r\n  // patch window.HTMLElement\r\n\r\n  /** @const */\r\n  const origHTMLElement = win.HTMLElement;\r\n  /**\r\n   * @type {function(new: HTMLElement)}\r\n   */\r\n  const newHTMLElement = function HTMLElement() {\r\n    const customElements = win['customElements'];\r\n\r\n    // If there's an being upgraded, return that\r\n    if (customElements._newInstance) {\r\n      const i = customElements._newInstance;\r\n      customElements._newInstance = null;\r\n      return i;\r\n    }\r\n    if (this.constructor) {\r\n      // Find the tagname of the constructor and create a new element with it\r\n      const tagName = customElements._constructors.get(this.constructor);\r\n      return doc._createElement(tagName, false);\r\n    }\r\n    throw new Error('Unknown constructor. Did you call customElements.define()?');\r\n  }\r\n  win.HTMLElement = newHTMLElement;\r\n  win.HTMLElement.prototype = Object.create(origHTMLElement.prototype, {\r\n    constructor: {value: win.HTMLElement, configurable: true, writable: true},\r\n  });\r\n\r\n  // patch all built-in subclasses of HTMLElement to inherit from the new HTMLElement\r\n  // See https://html.spec.whatwg.org/multipage/indices.html#element-interfaces\r\n\r\n  /** @const */\r\n  const htmlElementSubclasses = [\r\n  \t'Button',\r\n  \t'Canvas',\r\n  \t'Data',\r\n  \t'Head',\r\n  \t'Mod',\r\n  \t'TableCell',\r\n  \t'TableCol',\r\n    'Anchor',\r\n    'Area',\r\n    'Base',\r\n    'Body',\r\n    'BR',\r\n    'DataList',\r\n    'Details',\r\n    'Dialog',\r\n    'Div',\r\n    'DList',\r\n    'Embed',\r\n    'FieldSet',\r\n    'Form',\r\n    'Heading',\r\n    'HR',\r\n    'Html',\r\n    'IFrame',\r\n    'Image',\r\n    'Input',\r\n    'Keygen',\r\n    'Label',\r\n    'Legend',\r\n    'LI',\r\n    'Link',\r\n    'Map',\r\n    'Media',\r\n    'Menu',\r\n    'MenuItem',\r\n    'Meta',\r\n    'Meter',\r\n    'Object',\r\n    'OList',\r\n    'OptGroup',\r\n    'Option',\r\n    'Output',\r\n    'Paragraph',\r\n    'Param',\r\n    'Picture',\r\n    'Pre',\r\n    'Progress',\r\n    'Quote',\r\n    'Script',\r\n    'Select',\r\n    'Slot',\r\n    'Source',\r\n    'Span',\r\n    'Style',\r\n    'TableCaption',\r\n    'Table',\r\n    'TableRow',\r\n    'TableSection',\r\n    'Template',\r\n    'TextArea',\r\n    'Time',\r\n    'Title',\r\n    'Track',\r\n    'UList',\r\n    'Unknown',\r\n  ];\r\n\r\n  for (let i = 0; i < htmlElementSubclasses.length; i++) {\r\n    const ctor = window['HTML' + htmlElementSubclasses[i] + 'Element'];\r\n    if (ctor) {\r\n      ctor.prototype.__proto__ = win.HTMLElement.prototype;\r\n    }\r\n  }\r\n\r\n  // patch doc.createElement\r\n\r\n  /**\r\n   * @type {function(this:Document, string, (string|undefined)): !Element}\r\n   */\r\n  const rawCreateElement = doc.createElement;\r\n  doc._createElement = function(tagName, options, callConstructor) {\r\n    /** @type {CustomElementsRegistry} */\r\n    const customElements = win['customElements'];\r\n    const element = /** @type {!HTMLElement} **/(rawCreateElement.call(doc, tagName, options));\r\n    const definition = customElements._definitions.get(tagName.toLowerCase());\r\n    if (definition) {\r\n      customElements._upgradeElement(element, definition, callConstructor);\r\n    }\r\n    customElements._observeRoot(element);\r\n    return element;\r\n  };\r\n  doc.createElement = function(tagName, options) {\r\n    return doc._createElement(tagName, options, true);\r\n  }\r\n\r\n  // patch doc.createElementNS\r\n\r\n  const HTMLNS = 'http://www.w3.org/1999/xhtml';\r\n\r\n  /** @type {function(this:Document,string,string):Element} */\r\n  const _origCreateElementNS = doc.createElementNS;\r\n  doc.createElementNS =\r\n    /** @type {function(this:Document,(string|null),string):!Element} */\r\n    (function(namespaceURI, qualifiedName) {\r\n      if (namespaceURI === 'http://www.w3.org/1999/xhtml') {\r\n        return doc.createElement(qualifiedName);\r\n      } else {\r\n        return _origCreateElementNS.call(document, namespaceURI, qualifiedName);\r\n      }\r\n    });\r\n\r\n  // patch Element.attachShadow\r\n\r\n  /** @type {function({closed: boolean})} */\r\n  const _origAttachShadow = Element.prototype['attachShadow'];\r\n  if (_origAttachShadow) {\r\n    Object.defineProperty(Element.prototype, 'attachShadow', {\r\n      value: function(options) {\r\n        /** @type {!Node} */\r\n        const root = _origAttachShadow.call(this, options);\r\n        /** @type {CustomElementsRegistry} */\r\n        const customElements = win['customElements'];\r\n        customElements._observeRoot(root);\r\n        return root;\r\n      },\r\n    });\r\n  }\r\n\r\n  // patch doc.importNode\r\n\r\n  const rawImportNode = doc.importNode;\r\n  doc.importNode = function(node, deep) {\r\n    const clone = /** @type{!Node} */(rawImportNode.call(doc, node, deep));\r\n    const customElements = win['customElements'];\r\n    const nodes = isElement(clone) ? [clone] : clone.childNodes;\r\n    /** @type {CustomElementsRegistry} */(window['customElements'])._addNodes(nodes);\r\n    return clone;\r\n  };\r\n\r\n  // patch Element.setAttribute & removeAttribute\r\n\r\n  const _origSetAttribute = Element.prototype.setAttribute;\r\n  Element.prototype['setAttribute'] = function(name, value) {\r\n    changeAttribute(this, name, value, _origSetAttribute);\r\n  };\r\n  const _origRemoveAttribute = Element.prototype.removeAttribute;\r\n  Element.prototype['removeAttribute'] = function(name) {\r\n    changeAttribute(this, name, null, _origRemoveAttribute);\r\n  };\r\n\r\n  function changeAttribute(element, name, value, operation) {\r\n    name = name.toLowerCase();\r\n    const oldValue = element.getAttribute(name);\r\n    operation.call(element, name, value);\r\n\r\n    // Bail if this wasn't a fully upgraded custom element\r\n    if (element['_upgradedProp'] == true) {\r\n      const definition = window['customElements']._definitions.get(element.localName);\r\n      const observedAttributes = definition.observedAttributes;\r\n      const attributeChangedCallback = definition.attributeChangedCallback;\r\n      if (attributeChangedCallback && observedAttributes.indexOf(name) >= 0) {\r\n        const newValue = element.getAttribute(name);\r\n        if (newValue !== oldValue) {\r\n          attributeChangedCallback.call(element, name, oldValue, newValue);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** @type {CustomElementsRegistry} */\r\n  window['customElements'] = new CustomElementsRegistry();\r\n\r\n  // // TODO(justinfagnani): Remove. Temporary for backward-compatibility\r\n  window['CustomElements'] = {\r\n    takeRecords() {\r\n      if (window['customElements'].flush) window['customElements'].flush();\r\n    }\r\n  }\r\n})();\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/webcomponents.js/src/CustomElements/v1/CustomElements.js\n **/","/**\r\n * @license\r\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\r\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\n * Code distributed by Google as part of the polymer project is also\r\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n */\r\n\r\n/**\r\n * This shim allows elements written in, or compiled to, ES5 to work on native\r\n * implementations of Custom Elements v1. It sets new.target to the value of\r\n * this.constructor so that the native HTMLElement constructor can access the\r\n * current under-construction element's definition.\r\n *\r\n * Because `new.target` is a syntax error in VMs that don't support it, this\r\n * shim must only be loaded in browsers that do.\r\n */\r\n(() => {\r\n  let origHTMLElement = HTMLElement;\r\n  // TODO(justinfagnani): Tests!!\r\n  window.HTMLElement = function() {\r\n    // prefer new.target for elements that call super() constructors or\r\n    // Reflect.construct directly\r\n    let newTarget = new.target || this.constructor;\r\n    return Reflect.construct(origHTMLElement, [], newTarget);\r\n  }\r\n  HTMLElement.prototype = Object.create(origHTMLElement.prototype, {\r\n    constructor: {value: HTMLElement, configurable: true, writable: true},\r\n  });\r\n  // TODO(justinfagnani): patch all native subclasses of HTMLElement\r\n})();\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/webcomponents.js/src/CustomElements/v1/native-shim.js\n **/"],"sourceRoot":""}